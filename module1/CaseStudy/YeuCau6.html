<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function Customer() {
        this.setName = function (name) {
            this.name = name;
        };
        this.getName = function () {
            return this.name;
        };
        this.setCmnd = function (cmnd) {
            this.cmnd = cmnd;
        };
        this.getCmnd = function () {
            return this.cmnd;
        };
        this.setBirthday = function (birthday) {
            this.birthday = birthday;
        };
        this.getBirthday = function () {
            return this.birthday;
        };
        this.setEmail = function (email) {
            this.email = email;
        };
        this.getEmail = function () {
            return this.email;
        };
        this.setAddress = function (address) {
            this.address = address;
        };
        this.getAddress = function () {
            return this.address;
        };
        this.setTypecustomer = function (typecustomer) {
            this.typecustomer = typecustomer;
        };
        this.getTypecustomer = function () {
            return this.typecustomer;
        };
        this.setDiscount = function (discount) {
            this.discount = discount;
        };
        this.getDiscount = function () {
            return this.discount;
        };
        this.setQuantityIncluded = function (quantityIncluded) {
            this.quantityIncluded = quantityIncluded;
        };
        this.getQuantityIncluded = function () {
            return this.quantityIncluded;
        };
        this.setRentDays = function (rentDays) {
            this.rentDays = rentDays;
        };
        this.getRentDays = function () {
            return this.rentDays;
        };
        this.setServiceType = function (serviceType) {
            this.serviceType = serviceType;
        };
        this.getServiceType = function () {
            return this.serviceType;
        };
        this.setRoomType = function (roomType) {
            this.roomType = roomType;
        };
        this.getRoomType = function () {
            return this.roomType;
        };
        this.totalPay = function () {
            let money = 0;
            if (this.serviceType === "Villa"){
                money = 500;
            }else if (this.serviceType === "House"){
                money = 300;
            }else if (this.serviceType === "Room"){
                money = 100;
            }
            return money*this.rentDays*(1-this.discount/100);
        }

    }
    let listCustomers = [];
    function displayMainMenu() {
        let choose = parseInt(prompt("1.Add New Customer" + "\n"
            + "2.Display Information Customer" + "\n" + "3.Edit Information Customer" + "\n"
            + "4.Display total pays" + "\n" + "5.Delete Customer" + "\n" + "6.Add new Employees" + "\n"
            + "7.Display information Employees" + "\n" + "8.Salary of Employees"));
        switch (choose) {
            case 1:{
                addNewCustomer();
                break;
            }
            case 4:{
                addDisplayTotalPays();
                break;
            }
            case 6:{
                addNewEmployee();
                break;
            }
            case 7:{
                displayInfoEmployee();
                break;
            }
            case 8:{
                salaryEmployee();
                break;
            }
            default:{
                alert("Failed");
            }
        }
    }
    function addNewCustomer() {
        checkValid = false;
        let cus = new Customer();
        let name = prompt("Nhập vào tên");
        let cmnd;
        do {
            cmnd = prompt("Nhập vào số cmnd");
            let regexCmnd = /^[0-9]{9}$/;
            if (regexCmnd.test(cmnd)){
                checkValid = true;
            }else {
                alert("Cmnd không hợp lệ, vui lòng nhập lại");
            }
        }while (!checkValid);
        checkValid = false;
        let birthday;
        do {
            let regexBirthday = /^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;
            birthday = prompt("Nhập vào ngày tháng năm sinh");
            if (regexBirthday.test(birthday)){
                checkValid = true;
            }else {
                alert("Ngày sinh không hợp lệ, vui lòng nhập lại");
            }
        }while (!checkValid);
        checkValid = false;
        let email;
        do {
            let regexEmail = /^[a-z][a-z0-9_\.]{1,}@[a-z0-9]{2,}(\.[a-z0-9]{2,4}){1,2}$/;
            email = prompt("Nhập vào email");
            if (regexEmail.test(email)){
                checkValid = true;
            }else {
                alert("Email không hợp lệ, vui lòng nhập lại");
            }
        }while (!checkValid);
        checkValid = false;
        let address = prompt("Nhập vào địa chỉ");
        let typecustomer = prompt("Nhập vào loại khách hàng (Diamond, Platinum, Gold, Silver, Member)");
        let discount;
        do {
            discount = parseInt(prompt("Nhập vào mã giảm giá"));
            let regexDiscount = /^[0-9]{1,}$/;
            if (regexDiscount.test(discount)){
                checkValid = true;
            }else {
                alert("Mã giảm giá không hợp lệ, vui lòng nhập lại")
            }
        }while (!checkValid);
        checkValid = false;
        let quantityIncluded;
        do {
            quantityIncluded = prompt("Nhập vào số lượng đi kèm");
            let regexQuantityIncluded = /^[0-9]{1,}$/;
            if (regexQuantityIncluded.test(quantityIncluded)){
                checkValid = true;
            }else {
                alert("Số lượng đi kèm không hợp lệ, vui lòng nhập lại")
            }
        }while (!checkValid);
        checkValid = false;
        let rentDays;
        do {
            rentDays = prompt("Nhập vào số ngày thuê");
            let regexRentDays = /^[0-9]{1,}$/;
            if (regexRentDays.test(rentDays)){
                checkValid = true;
            }else {
                alert("Số ngày thuê không hợp lệ, vui lòng nhập lại")
            }
        }while (!checkValid);
        checkValid = false;
        let serviceType = prompt("Nhập vào loại dịch vụ (Villa, House, Room)");
        let roomType = prompt("Nhập vào loại phòng thuê (Vip, Business, Normal)");
        cus.setName(name);
        cus.setCmnd(cmnd);
        cus.setBirthday(birthday);
        cus.setEmail(email);
        cus.setAddress(address);
        cus.setTypecustomer(typecustomer);
        cus.setDiscount(discount);
        cus.setQuantityIncluded(quantityIncluded);
        cus.setRentDays(rentDays);
        cus.setServiceType(serviceType);
        cus.setRoomType(roomType);
        listCustomers.push(cus);
        alert("Bạn đã thêm thành công");
        displayMainMenu();
    }
    function addDisplayTotalPays() {
        let temp = "";
        for (i=0;i<listCustomers.length;i++){
            temp += i+ ".Name:" + listCustomers[i].getName() + "\n";
        }
        let chooseDisplay = parseInt(prompt(temp));
        alert("Total pays của bạn là: "+listCustomers[chooseDisplay].totalPay());
        displayMainMenu();

    }
    let listEmployees = [];
    function Employee() {
        this.setNameEmployee = function (nameEmployee) {
            this.nameEmployee = nameEmployee;
        };
        this.getNameEmpLoyee = function () {
            return this.nameEmployee;
        };
        this.setBirthday = function (birthday) {
            this.birthday = birthday;
        };
        this.getBirthday = function () {
            return this.birthday;
        };
        this.setCmnd = function (cmnd) {
            this.cmnd = cmnd;
        };
        this.getCmnd = function () {
            return this.cmnd;
        };
        this.setPhoneNumber = function (phoneNumber) {
            this.phoneNumber = phoneNumber;
        };
        this.getPhoneNumber = function () {
            return this.phoneNumber;
        };
        this.setEmail = function (email) {
            this.email = email;
        };
        this.getEmail = function () {
            return this.email;
        };
        this.setLevel = function (level) {
            this.level = level;
        };
        this.getLevel = function () {
            return this.level;
        };
        this.setLocation = function (location) {
            this.location = location;
        };
        this.getLocation = function () {
            return this.location;
        };
        this.setSalary = function (salary) {
            this.salary = salary;
        };
        this.getSalary = function () {
            if (this.location === "Manager"){
                this.salary = 500;
            }else if (this.location === "Sale"){
                this.salary = 300;
            }else if (this.location === "Marketing"){
                this.salary = 200;
            }
            return this.salary;

        };

    }
    function addNewEmployee() {
        let employ = new Employee();
        let name = prompt("Nhập vào tên");
        let birthday = prompt("Nhập vào ngày sinh");
        let cmnd = prompt("Nhập vào cmnd");
        let phoneNumber = prompt("Nhập vào số điện thoại");
        let email = prompt("Nhập vào email");
        let level = prompt("Nhập vào trình độ");
        let location = prompt("Nhập vào vị trí");
        employ.setNameEmployee(name);
        employ.setBirthday(birthday);
        employ.setCmnd(cmnd);
        employ.setPhoneNumber(phoneNumber);
        employ.setEmail(email);
        employ.setLevel(level);
        employ.setLocation(location);
        listEmployees.push(employ);
        alert("Bạn đã nhập thành công");
        displayMainMenu();
    }
    function displayInfoEmployee() {
        let temp = "";
        for (i=0;i<listEmployees.length;i++){
            temp += i +".name : " + listEmployees[i].getNameEmpLoyee() +"\n";
        }
        let chooseDisplay = parseInt(prompt(temp));
        alert("1.Tên : " + listEmployees[chooseDisplay].getNameEmpLoyee() + "\n" +
            "2.Ngày sinh : " + listEmployees[chooseDisplay].getBirthday() + "\n" +
            "3.cmnd : " + listEmployees[chooseDisplay].getCmnd() + "\n" +
            "4.Số điện thoại : " + listEmployees[chooseDisplay].getPhoneNumber() + "\n" +
            "5.Email : " + listEmployees[chooseDisplay].getEmail() + "\n" +
            "6.Cấp độ : " + listEmployees[chooseDisplay].getLevel() + "\n" +
            "7.Vị trí : " + listEmployees[chooseDisplay].getLocation());
        displayMainMenu();

    }
    function salaryEmployee() {
        let temp = "";
        for (i=0;i<listEmployees.length;i++){
            temp += i +".name : " + listEmployees[i].getNameEmpLoyee() +"\n";
        }
        let chooseDisplay = parseInt(prompt(temp));
        alert("Lương của bạn là: " + listEmployees[chooseDisplay].getSalary());
        displayMainMenu();
    }
    displayMainMenu();
</script>

</body>
</html>